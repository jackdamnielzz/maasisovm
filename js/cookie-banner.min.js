class CookieConsent{constructor(){this.cookieName="consent_status",this.cookieExpiry=365,this.initializeBanner(),this.initializeModal(),this.checkCookieConsent()}initializeBanner(){const e=`<div class="cookie-banner" id="cookieBanner"><div class="cookie-banner__content"><div class="cookie-banner__text"><h3>Cookie-instellingen</h3><p>Wij gebruiken cookies om uw ervaring te verbeteren en onze website te optimaliseren. U kunt kiezen welke cookies u wilt accepteren. Lees meer in ons <a href="/cookiebeleid.html">cookiebeleid</a>.</p></div><div class="cookie-banner__actions"><button class="cookie-banner__button cookie-banner__button--accept" id="acceptAllCookies">Alle cookies accepteren</button><button class="cookie-banner__button cookie-banner__button--settings" id="openCookieSettings">Cookie-instellingen</button></div></div></div>`;document.body.insertAdjacentHTML("beforeend",e),document.getElementById("acceptAllCookies").addEventListener("click",()=>this.acceptAllCookies()),document.getElementById("openCookieSettings").addEventListener("click",()=>this.openSettings())}initializeModal(){const e=`<div class="cookie-settings-modal" id="cookieSettingsModal"><div class="cookie-settings-modal__content"><div class="cookie-settings-modal__header"><h3>Cookie-instellingen</h3><button class="cookie-settings-modal__close" id="closeCookieSettings">&times;</button></div><div class="cookie-settings-modal__options"><div class="cookie-option"><div class="cookie-option__info"><h4 class="cookie-option__title">Noodzakelijke cookies</h4><p class="cookie-option__description">Deze cookies zijn essentieel voor het functioneren van de website. Ze onthouden bijvoorbeeld uw taalvoorkeuren en of u bent ingelogd.</p></div><label class="cookie-option__toggle"><input type="checkbox" checked disabled><span class="cookie-option__toggle-slider"></span></label></div><div class="cookie-option"><div class="cookie-option__info"><h4 class="cookie-option__title">Analytische cookies</h4><p class="cookie-option__description">We gebruiken analytische cookies om te begrijpen hoe bezoekers onze website gebruiken. Deze informatie helpt ons de website te verbeteren.</p></div><label class="cookie-option__toggle"><input type="checkbox" id="analyticsCookies"><span class="cookie-option__toggle-slider"></span></label></div><div class="cookie-option"><div class="cookie-option__info"><h4 class="cookie-option__title">Functionele cookies</h4><p class="cookie-option__description">Deze cookies onthouden uw voorkeuren en helpen bij het personaliseren van uw websitebezoek.</p></div><label class="cookie-option__toggle"><input type="checkbox" id="functionalCookies"><span class="cookie-option__toggle-slider"></span></label></div></div><div class="cookie-settings-modal__actions"><button class="cookie-banner__button cookie-banner__button--settings" id="saveCookieSettings">Instellingen opslaan</button></div></div></div>`;document.body.insertAdjacentHTML("beforeend",e),document.getElementById("closeCookieSettings").addEventListener("click",()=>this.closeSettings()),document.getElementById("saveCookieSettings").addEventListener("click",()=>this.saveSettings()),document.getElementById("cookieSettingsModal").addEventListener("click",e=>{e.target.id==="cookieSettingsModal"&&this.closeSettings()});const t=this.getCookie(this.cookieName);if(t){const e=JSON.parse(t);document.getElementById("analyticsCookies").checked=e.analytics,document.getElementById("functionalCookies").checked=e.functional}}checkCookieConsent(){this.getCookie(this.cookieName)||document.getElementById("cookieBanner").classList.add("visible")}acceptAllCookies(){const e={necessary:!0,analytics:!0,functional:!0};this.setConsent(e),this.hideBanner(),this.applyPreferences(e)}openSettings(){document.getElementById("cookieSettingsModal").classList.add("visible")}closeSettings(){document.getElementById("cookieSettingsModal").classList.remove("visible")}saveSettings(){const e={necessary:!0,analytics:document.getElementById("analyticsCookies").checked,functional:document.getElementById("functionalCookies").checked};this.setConsent(e),this.closeSettings(),this.hideBanner(),this.applyPreferences(e)}setConsent(e){this.setCookie(this.cookieName,JSON.stringify(e),this.cookieExpiry)}hideBanner(){document.getElementById("cookieBanner").classList.remove("visible")}applyPreferences(e){if(e.analytics){if(typeof ga=="undefined"){(function(e,t,n,i,s,o,a){e.GoogleAnalyticsObject=s,e[s]=e[s]||function(){(e[s].q=e[s].q||[]).push(arguments)},e[s].l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src=i,a.parentNode.insertBefore(o,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-XXXXX-Y","auto"),ga("send","pageview")}}else this.deleteCookie("_ga"),this.deleteCookie("_gid");e.functional||this.deleteCookie("language_pref")}setCookie(e,t,n){const i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3);const s="; expires="+i.toUTCString();document.cookie=e+"="+(t||"")+s+"; path=/; SameSite=Lax"}getCookie(e){const t=e+"=",n=document.cookie.split(";");for(let i=0;i<n.length;i++){let s=n[i];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null}deleteCookie(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}}document.addEventListener("DOMContentLoaded",()=>{new CookieConsent});
